<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Academy @ Centner - School Calendar 2025-2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --centner-blue: #57BAEB;
            --centner-pink: #EC4E88;
            --centner-orange: #FC6F24;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        
        .header {
            background: linear-gradient(135deg, var(--centner-blue), var(--centner-pink), var(--centner-orange));
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .controls {
            background: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .grade-filter {
            display: flex;
            gap: 0.5rem;
        }
        
        .filter-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn.active {
            background: var(--centner-pink);
            color: white;
            border-color: var(--centner-pink);
        }
        
        .calendar-container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        .calendar-header {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.25rem;
            background: white;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        
        .weekday-header {
            padding: 0.75rem;
            text-align: center;
            font-weight: 600;
            color: #6b7280;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .day-cell {
            min-height: 100px;
            padding: 0.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        
        .day-cell:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .day-cell.weekend {
            background: #f9fafb;
            cursor: default;
        }
        
        .day-cell.weekend:hover {
            transform: none;
            box-shadow: none;
        }
        
        .day-cell.no-school {
            background: #fef2f2;
        }
        
        .day-number {
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }
        
        .day-label {
            position: absolute;
            top: 0.25rem;
            right: 0.25rem;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.625rem;
            font-weight: 600;
        }
        
        .day-label.a-day {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .day-label.b-day {
            background: #fce7f3;
            color: #be185d;
        }
        
        .lesson-preview {
            font-size: 0.625rem;
            color: #6b7280;
            line-height: 1.2;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 0.75rem;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--centner-blue), var(--centner-pink));
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 1.5rem;
            overflow-y: auto;
            max-height: calc(90vh - 100px);
        }
        
        .close {
            font-size: 1.5rem;
            cursor: pointer;
            background: none;
            border: none;
            color: white;
        }
        
        .period {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: #f9fafb;
            border-left: 4px solid var(--centner-blue);
            border-radius: 0.375rem;
        }
        
        .period-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .period-title {
            font-weight: 600;
            font-size: 1.125rem;
            color: #1f2937;
        }
        
        .period-time {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .lesson-code {
            background: var(--centner-blue);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .lesson-content h4 {
            font-weight: 600;
            margin-top: 0.5rem;
            margin-bottom: 0.25rem;
            color: #374151;
        }
        
        .lesson-content ul {
            list-style: disc;
            margin-left: 1.5rem;
            color: #4b5563;
        }
        
        @media (max-width: 768px) {
            .calendar-grid {
                grid-template-columns: 1fr;
            }
            
            .weekday-header {
                display: none;
            }
            
            .day-cell {
                display: flex;
                justify-content: space-between;
                align-items: start;
                padding: 1rem;
            }
            
            .day-cell.weekend {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1 style="font-size: 2rem; font-weight: 700;">AI Academy @ Centner</h1>
        <p style="margin-top: 0.5rem;">2025-2026 Academic Calendar</p>
    </div>
    
    <div class="controls">
        <div style="display: flex; gap: 1rem; align-items: center;">
            <button onclick="changeMonth(-1)" style="padding: 0.5rem 1rem; background: white; border: 1px solid #d1d5db; border-radius: 0.375rem; cursor: pointer;">←</button>
            <span id="currentMonth" style="font-weight: 600; min-width: 150px; text-align: center;"></span>
            <button onclick="changeMonth(1)" style="padding: 0.5rem 1rem; background: white; border: 1px solid #d1d5db; border-radius: 0.375rem; cursor: pointer;">→</button>
        </div>
        
        <div class="grade-filter">
            <button class="filter-btn active" onclick="filterGrade('all')">All Classes</button>
            <button class="filter-btn" onclick="filterGrade('7th')">7th Grade</button>
            <button class="filter-btn" onclick="filterGrade('9th')">9th Grade</button>
            <button class="filter-btn" onclick="filterGrade('11th')">11th Grade</button>
        </div>
    </div>
    
    <div class="calendar-container">
        <div class="calendar-grid" id="calendar">
            <!-- Calendar will be rendered here -->
        </div>
    </div>
    
    <!-- Modal -->
    <div id="dayModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalDate" style="font-size: 1.5rem; font-weight: 600;"></h2>
                <button class="close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Lesson details will be inserted here -->
            </div>
        </div>
    </div>
    
    <script>
        // Parse CSV data into schedule
        const csvSchedule = {
            '2025-09-03': 'A', '2025-09-04': 'B', '2025-09-05': 'A',
            '2025-09-08': 'B', '2025-09-09': 'A', '2025-09-10': 'B', '2025-09-11': 'A', '2025-09-12': 'B',
            '2025-09-15': 'A', '2025-09-16': 'B', '2025-09-17': 'A', '2025-09-18': 'B', '2025-09-19': 'A',
            '2025-09-22': 'B', '2025-09-24': 'A', '2025-09-25': 'B', '2025-09-26': 'A',
            '2025-09-29': 'B', '2025-09-30': 'A', '2025-10-01': 'B', '2025-10-03': 'A',
            '2025-10-06': 'B', '2025-10-07': 'A', '2025-10-08': 'B', '2025-10-09': 'A', '2025-10-10': 'B',
            '2025-10-13': 'A', '2025-10-14': 'B', '2025-10-15': 'A', '2025-10-16': 'B', '2025-10-17': 'A',
            '2025-10-20': 'B', '2025-10-21': 'A', '2025-10-22': 'B', '2025-10-23': 'A', '2025-10-24': 'B',
            '2025-10-27': 'A', '2025-10-28': 'B', '2025-10-29': 'A', '2025-10-30': 'B', '2025-10-31': 'A',
            '2025-11-03': 'B', '2025-11-04': 'A', '2025-11-05': 'B', '2025-11-06': 'A', '2025-11-07': 'B',
            '2025-11-10': 'A', '2025-11-12': 'B', '2025-11-13': 'A', '2025-11-14': 'B',
            '2025-11-17': 'A', '2025-11-18': 'B', '2025-11-19': 'A', '2025-11-20': 'B', '2025-11-21': 'A',
            '2025-12-01': 'B', '2025-12-02': 'A', '2025-12-03': 'B', '2025-12-04': 'A', '2025-12-05': 'B',
            '2025-12-08': 'A', '2025-12-09': 'B', '2025-12-10': 'A', '2025-12-11': 'B', '2025-12-12': 'A',
            '2025-12-15': 'B', '2025-12-16': 'A', '2025-12-17': 'B', '2025-12-18': 'A', '2025-12-19': 'B',
            '2026-01-06': 'A', '2026-01-07': 'B', '2026-01-08': 'A', '2026-01-09': 'B',
            '2026-01-12': 'A', '2026-01-13': 'B', '2026-01-14': 'A', '2026-01-15': 'B', '2026-01-16': 'A',
            '2026-01-20': 'B', '2026-01-21': 'A', '2026-01-22': 'B', '2026-01-23': 'A',
            '2026-01-26': 'B', '2026-01-27': 'A', '2026-01-28': 'B', '2026-01-29': 'A', '2026-01-30': 'B',
            '2026-02-02': 'A', '2026-02-03': 'B', '2026-02-04': 'A', '2026-02-05': 'B', '2026-02-06': 'A',
            '2026-02-09': 'B', '2026-02-10': 'A', '2026-02-11': 'B', '2026-02-12': 'A', '2026-02-13': 'B',
            '2026-02-17': 'A', '2026-02-18': 'B', '2026-02-19': 'A', '2026-02-20': 'B',
            '2026-02-23': 'A', '2026-02-24': 'B', '2026-02-25': 'A', '2026-02-26': 'B', '2026-02-27': 'A',
            '2026-03-02': 'B', '2026-03-03': 'A', '2026-03-04': 'B', '2026-03-05': 'A', '2026-03-06': 'B',
            '2026-03-09': 'A', '2026-03-10': 'B', '2026-03-11': 'A', '2026-03-12': 'B', '2026-03-13': 'A',
            '2026-03-16': 'B', '2026-03-17': 'A', '2026-03-18': 'B', '2026-03-19': 'A', '2026-03-20': 'B',
            '2026-03-30': 'A', '2026-03-31': 'B', '2026-04-01': 'A', '2026-04-02': 'B',
            '2026-04-06': 'A', '2026-04-07': 'B', '2026-04-08': 'A', '2026-04-09': 'B', '2026-04-10': 'A',
            '2026-04-13': 'B', '2026-04-14': 'A', '2026-04-15': 'B', '2026-04-16': 'A', '2026-04-17': 'B',
            '2026-04-20': 'A', '2026-04-21': 'B', '2026-04-22': 'A', '2026-04-23': 'B', '2026-04-24': 'A',
            '2026-04-27': 'B', '2026-04-28': 'A', '2026-04-29': 'B', '2026-04-30': 'A', '2026-05-01': 'B',
            '2026-05-04': 'A', '2026-05-05': 'B', '2026-05-06': 'A', '2026-05-07': 'B', '2026-05-08': 'A',
            '2026-05-11': 'B', '2026-05-12': 'A', '2026-05-13': 'B', '2026-05-14': 'A', '2026-05-15': 'B',
            '2026-05-18': 'A', '2026-05-19': 'B', '2026-05-20': 'A', '2026-05-21': 'B', '2026-05-22': 'A',
            '2026-05-26': 'B', '2026-05-27': 'A', '2026-05-28': 'B', '2026-05-29': 'A',
            '2026-06-01': 'B', '2026-06-02': 'A', '2026-06-03': 'B', '2026-06-04': 'A', '2026-06-05': 'B',
            '2026-06-08': 'A', '2026-06-09': 'B', '2026-06-10': 'A', '2026-06-11': 'B'
        };
        
        const noSchoolDays = new Set([
            '2025-09-23', '2025-10-02', '2025-11-11', '2025-11-24', '2025-11-25', '2025-11-26', '2025-11-27', '2025-11-28',
            '2025-12-22', '2025-12-23', '2025-12-24', '2025-12-25', '2025-12-26', '2025-12-29', '2025-12-30', '2025-12-31',
            '2026-01-01', '2026-01-02', '2026-01-05', '2026-01-19', '2026-02-16',
            '2026-03-23', '2026-03-24', '2026-03-25', '2026-03-26', '2026-03-27',
            '2026-04-03', '2026-05-25'
        ]);
        
        const noonDismissals = new Set(['2025-10-31', '2025-12-05', '2025-12-19', '2026-05-22', '2026-06-11']);
        
        let currentMonth = new Date('2025-09-01');
        let currentGradeFilter = 'all';
        let dayCounter = 0;
        
        // Calculate day numbers starting from Sep 8
        const dayNumbers = {};
        const sortedDates = Object.keys(csvSchedule).sort();
        const sep8Index = sortedDates.indexOf('2025-09-08');
        
        for (let i = sep8Index; i < sortedDates.length; i++) {
            const date = sortedDates[i];
            if (!noSchoolDays.has(date)) {
                dayCounter++;
                dayNumbers[date] = dayCounter;
            }
        }
        
        // Period Schedule based on actual AI Lab schedule
        const periodSchedule = {
            'A': {
                'Period 1 (8:18-9:48)': {
                    '9th': '9th Grade ELA',
                    '11th': '11th Grade PreCalculus'
                },
                'Period 2 (9:51-11:21)': {
                    '7th': '7th Grade Science',
                    '11th': '11th Grade US Government'
                },
                'Period 3 (12:12-1:42)': {
                    '7th': '7th Grade ELA'
                }
            },
            'B': {
                'Period 1 (8:18-9:48)': {
                    '9th': '9th Grade World History',
                    '11th': '11th Grade ELA III'
                },
                'Period 2 (9:51-11:21)': {
                    '7th': '7th Grade Math'
                },
                'Period 3 (12:12-1:42)': {
                    '7th': '7th Grade History/Civics',
                    '9th': '9th Grade Math'
                }
            }
        };
        
        // Curriculum mapping by subject
        const curriculum = {
            '9th Grade ELA': {
                '1-10': 'Literary Elements & Structure',
                '11-20': 'Character Analysis & Theme',
                '21-30': 'Romeo & Juliet Act I-II',
                '31-40': 'Romeo & Juliet Act III-V',
                '41-50': 'Essay Writing & Arguments',
                '51-60': 'Research Methods',
                '61-70': 'Poetry Forms & Devices',
                '71-80': 'Novel Study: To Kill a Mockingbird',
                '81-87': 'EOC Review & Portfolio',
                '88-94': 'Modern Literature',
                '95-100': 'Creative Writing',
                '101-110': 'Literary Criticism',
                '111-120': 'Drama & Performance',
                '121-130': 'Mythology & Folklore',
                '131-140': 'Science Fiction & Fantasy',
                '141-150': 'Non-fiction Analysis',
                '151-160': 'Media Literacy',
                '161-170': 'Final Projects',
                '171-174': 'Portfolio Presentations'
            },
            '11th Grade PreCalculus': {
                '1-10': 'Functions & Graphs',
                '11-20': 'Polynomial Functions',
                '21-30': 'Rational Functions',
                '31-40': 'Exponential & Logarithmic',
                '41-50': 'Trigonometric Functions',
                '51-60': 'Trigonometric Identities',
                '61-70': 'Vectors & Matrices',
                '71-80': 'Sequences & Series',
                '81-87': 'Limits Introduction',
                '88-94': 'Derivative Concepts',
                '95-100': 'Basic Derivatives',
                '101-110': 'Applications of Derivatives',
                '111-120': 'Integration Introduction',
                '121-130': 'Definite Integrals',
                '131-140': 'Applications of Integration',
                '141-150': 'Parametric Equations',
                '151-160': 'Polar Coordinates',
                '161-170': 'CLEP Prep',
                '171-174': 'Final Review'
            },
            '7th Grade Science': {
                '1-10': 'Cell Theory & Structure',
                '11-20': 'Human Body Systems',
                '21-30': 'Genetics & Heredity',
                '31-40': 'Ecosystems & Energy Flow',
                '41-50': 'Evolution & Natural Selection',
                '51-60': 'Earth Systems & Cycles',
                '61-70': 'Weather & Climate',
                '71-80': 'Forces & Motion',
                '81-87': 'Energy Transformations',
                '88-94': 'Chemical Reactions',
                '95-100': 'Scientific Method',
                '101-110': 'Lab Techniques',
                '111-120': 'Environmental Science',
                '121-130': 'Space Science',
                '131-140': 'Technology & Engineering',
                '141-150': 'Science Fair Projects',
                '151-160': 'STEM Challenges',
                '161-170': 'EOC Review',
                '171-174': 'Portfolio Review'
            },
            '11th Grade US Government': {
                '1-10': 'Constitutional Foundations',
                '11-20': 'Legislative Branch',
                '21-30': 'Executive Branch',
                '31-40': 'Judicial Branch',
                '41-50': 'Federalism',
                '51-60': 'Civil Liberties',
                '61-70': 'Civil Rights',
                '71-80': 'Political Parties',
                '81-87': 'Elections & Voting',
                '88-94': 'Interest Groups',
                '95-100': 'Media & Politics',
                '101-110': 'Public Policy',
                '111-120': 'Economic Policy',
                '121-130': 'Foreign Policy',
                '131-140': 'State & Local Government',
                '141-150': 'Comparative Government',
                '151-160': 'Current Events',
                '161-170': 'CLEP Prep',
                '171-174': 'Civic Action Project'
            },
            '7th Grade ELA': {
                '1-10': 'Narrative Writing',
                '11-20': 'Literary Elements',
                '21-30': 'Poetry Analysis',
                '31-40': 'Novel Study: The Giver',
                '41-50': 'Argumentative Writing',
                '51-60': 'Research Skills',
                '61-70': 'Grammar & Mechanics',
                '71-80': 'Short Stories',
                '81-87': 'Drama: A Midsummer Night\'s Dream',
                '88-94': 'Non-fiction Reading',
                '95-100': 'Creative Writing',
                '101-110': 'Mythology',
                '111-120': 'Speech & Presentation',
                '121-130': 'Media Analysis',
                '131-140': 'Historical Fiction',
                '141-150': 'Biography Study',
                '151-160': 'Writing Workshop',
                '161-170': 'FSA Review',
                '171-174': 'Portfolio Showcase'
            },
            '9th Grade World History': {
                '1-10': 'Ancient Civilizations',
                '11-20': 'Classical Greece',
                '21-30': 'Roman Empire',
                '31-40': 'Medieval Europe',
                '41-50': 'Renaissance',
                '51-60': 'Reformation',
                '61-70': 'Age of Exploration',
                '71-80': 'Colonialism',
                '81-87': 'Enlightenment',
                '88-94': 'French Revolution',
                '95-100': 'Industrial Revolution',
                '101-110': 'Imperialism',
                '111-120': 'World War I',
                '121-130': 'Interwar Period',
                '131-140': 'World War II',
                '141-150': 'Cold War',
                '151-160': 'Decolonization',
                '161-170': 'Modern World',
                '171-174': 'History Fair'
            },
            '11th Grade ELA III': {
                '1-10': 'American Literature Origins',
                '11-20': 'Colonial Literature',
                '21-30': 'Revolutionary Writers',
                '31-40': 'Romanticism & Transcendentalism',
                '41-50': 'The Scarlet Letter',
                '51-60': 'Civil War Literature',
                '61-70': 'Realism & Naturalism',
                '71-80': 'The Great Gatsby',
                '81-87': 'Modernism',
                '88-94': 'Harlem Renaissance',
                '95-100': 'Post-War Literature',
                '101-110': 'Contemporary Voices',
                '111-120': 'Research Paper',
                '121-130': 'Literary Criticism',
                '131-140': 'Creative Writing',
                '141-150': 'Drama: Death of a Salesman',
                '151-160': 'Poetry Workshop',
                '161-170': 'CLEP Prep',
                '171-174': 'Senior Portfolio'
            },
            '7th Grade Math': {
                '1-10': 'Integers & Rational Numbers',
                '11-20': 'Expressions & Equations',
                '21-30': 'Inequalities',
                '31-40': 'Ratios & Proportions',
                '41-50': 'Percents',
                '51-60': 'Geometry Basics',
                '61-70': 'Area & Volume',
                '71-80': 'Statistics & Probability',
                '81-87': 'Linear Relationships',
                '88-94': 'Transformations',
                '95-100': 'Pythagorean Theorem',
                '101-110': 'Systems of Equations',
                '111-120': 'Functions Introduction',
                '121-130': 'Data Analysis',
                '131-140': 'Problem Solving',
                '141-150': 'Math in Science',
                '151-160': 'Real-World Applications',
                '161-170': 'FSA Review',
                '171-174': 'Math Fair'
            },
            '7th Grade History/Civics': {
                '1-10': 'Foundations of Government',
                '11-20': 'Colonial America',
                '21-30': 'American Revolution',
                '31-40': 'Constitution & Bill of Rights',
                '41-50': 'Early Republic',
                '51-60': 'Westward Expansion',
                '61-70': 'Civil War & Reconstruction',
                '71-80': 'Industrial Age',
                '81-87': 'Progressive Era',
                '88-94': 'World War I',
                '95-100': 'Roaring Twenties',
                '101-110': 'Great Depression',
                '111-120': 'World War II',
                '121-130': 'Cold War',
                '131-140': 'Civil Rights Movement',
                '141-150': 'Modern America',
                '151-160': 'Florida History',
                '161-170': 'EOC Review',
                '171-174': 'Civic Action Project'
            },
            '9th Grade Math': {
                '1-10': 'Algebraic Foundations',
                '11-20': 'Linear Equations',
                '21-30': 'Systems of Equations',
                '31-40': 'Inequalities',
                '41-50': 'Functions',
                '51-60': 'Quadratic Equations',
                '61-70': 'Polynomials',
                '71-80': 'Factoring',
                '81-87': 'Radicals',
                '88-94': 'Rational Expressions',
                '95-100': 'Exponential Functions',
                '101-110': 'Geometry Connections',
                '111-120': 'Statistics',
                '121-130': 'Probability',
                '131-140': 'Sequences & Series',
                '141-150': 'Transformations',
                '151-160': 'Real-World Applications',
                '161-170': 'EOC Review',
                '171-174': 'Final Projects'
            }
        };
        
        // Last week special schedule
        const lastWeekSchedule = {
            '2026-06-08': {
                'Period 1': 'CLEP/AP Test Prep',
                'Period 2': 'Portfolio Review',
                'Period 3': 'EOC Practice Tests'
            },
            '2026-06-09': {
                'Period 1': 'CLEP/AP Test Prep',
                'Period 2': 'Portfolio Presentations',
                'Period 3': 'Academic Competitions'
            },
            '2026-06-10': {
                'Period 1': 'Final Assessments',
                'Period 2': 'College Planning',
                'Period 3': 'Summer Prep'
            },
            '2026-06-11': {
                'Period 1': 'Awards Ceremony',
                'Period 2': 'Final Portfolios',
                'Noon': 'Dismissal'
            }
        };
        
        function getLesson(subject, dayNum) {
            const curriculum_map = curriculum[subject];
            if (!curriculum_map) return '';
            
            for (const [range, lesson] of Object.entries(curriculum_map)) {
                if (range.includes('-')) {
                    const [start, end] = range.split('-').map(Number);
                    if (dayNum >= start && dayNum <= end) {
                        return lesson;
                    }
                } else {
                    if (dayNum === parseInt(range)) {
                        return lesson;
                    }
                }
            }
            return '';
        }
        
        function renderCalendar() {
            const year = currentMonth.getFullYear();
            const month = currentMonth.getMonth();
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            let html = '';
            
            // Weekday headers
            const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            weekdays.forEach(day => {
                html += `<div class="weekday-header">${day}</div>`;
            });
            
            // Calendar days
            let currentDate = new Date(startDate);
            while (currentDate <= lastDay || currentDate.getDay() !== 0) {
                const dateStr = currentDate.toISOString().split('T')[0];
                const dayOfMonth = currentDate.getDate();
                const isCurrentMonth = currentDate.getMonth() === month;
                const isWeekend = currentDate.getDay() === 0 || currentDate.getDay() === 6;
                const isNoSchool = noSchoolDays.has(dateStr);
                const dayType = csvSchedule[dateStr];
                const dayNum = dayNumbers[dateStr];
                
                let cellClass = 'day-cell';
                if (isWeekend) cellClass += ' weekend';
                if (isNoSchool) cellClass += ' no-school';
                if (!isCurrentMonth) cellClass += ' opacity-50';
                
                html += `<div class="${cellClass}" ${!isWeekend && isCurrentMonth && dayType ? `onclick="showDayDetails('${dateStr}')"` : ''}>`;
                html += `<div class="day-number">${dayOfMonth}</div>`;
                
                if (dayType && !isWeekend && isCurrentMonth) {
                    html += `<div class="day-label ${dayType.toLowerCase()}-day">${dayNum}.${dayType}</div>`;
                }
                
                if (isNoSchool && !isWeekend && isCurrentMonth) {
                    html += '<div style="color: #dc2626; font-size: 0.75rem; font-weight: 500;">No School</div>';
                } else if (noonDismissals.has(dateStr)) {
                    html += '<div style="color: #d97706; font-size: 0.625rem;">Noon Dismissal</div>';
                }
                
                // Show lesson preview based on grade filter
                if (dayType && !isWeekend && isCurrentMonth && dayNum && dayNum <= 170) {
                    html += '<div class="lesson-preview">';
                    const schedule = periodSchedule[dayType];
                    let previewCount = 0;
                    
                    for (const [period, classes] of Object.entries(schedule)) {
                        for (const [grade, className] of Object.entries(classes)) {
                            if (currentGradeFilter === 'all' || currentGradeFilter === grade) {
                                const lesson = getLesson(className, dayNum);
                                if (lesson && previewCount < 2) {
                                    html += `${className.split(' ')[2]}: ${lesson.substring(0, 12)}...<br>`;
                                    previewCount++;
                                }
                            }
                        }
                    }
                    html += '</div>';
                }
                
                html += '</div>';
                currentDate.setDate(currentDate.getDate() + 1);
            }
            
            document.getElementById('calendar').innerHTML = html;
            document.getElementById('currentMonth').textContent = 
                firstDay.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
        }
        
        function showDayDetails(dateStr) {
            const date = new Date(dateStr + 'T12:00:00');
            const dayType = csvSchedule[dateStr];
            const dayNum = dayNumbers[dateStr];
            
            document.getElementById('modalDate').textContent = 
                date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' }) +
                ` - Day ${dayNum} (${dayType} Day)`;
            
            let modalContent = '';
            
            // Check if it's the last week
            if (date >= new Date('2026-06-08') && date <= new Date('2026-06-11')) {
                const schedule = lastWeekSchedule[dateStr];
                if (schedule) {
                    Object.entries(schedule).forEach(([period, activity]) => {
                        modalContent += `
                            <div class="period">
                                <div class="period-header">
                                    <div class="period-title">${period}</div>
                                </div>
                                <div>${activity}</div>
                            </div>
                        `;
                    });
                }
            } else {
                // Regular schedule
                const schedule = periodSchedule[dayType];
                let periodNum = 1;
                
                for (const [period, classes] of Object.entries(schedule)) {
                    for (const [grade, className] of Object.entries(classes)) {
                        if (currentGradeFilter === 'all' || currentGradeFilter === grade) {
                            const lesson = getLesson(className, dayNum);
                            const lessonCode = `${dayNum}.${periodNum}.${dayType.toLowerCase()}`;
                            
                            modalContent += `
                                <div class="period">
                                    <div class="period-header">
                                        <div>
                                            <div class="period-title">${period}</div>
                                            <div class="period-time">${className}</div>
                                        </div>
                                        <div class="lesson-code">${lessonCode}</div>
                                    </div>
                                    <div class="lesson-content">
                                        <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem;">${lesson}</h3>
                                        <h4>Objectives:</h4>
                                        <ul>
                                            <li>Master key concepts for this unit</li>
                                            <li>Apply knowledge through hands-on activities</li>
                                            <li>Demonstrate understanding through assessment</li>
                                        </ul>
                                        <h4>Activities:</h4>
                                        <ul>
                                            <li>Interactive lesson with multimedia</li>
                                            <li>${className.includes('Science') ? 'Discovery Box experiments' : 'Collaborative exercises'}</li>
                                            <li>Practice problems and discussions</li>
                                        </ul>
                                        <h4>Assessment:</h4>
                                        <p>Formative assessment through class participation and exit tickets</p>
                                    </div>
                                </div>
                            `;
                        }
                    }
                    periodNum++;
                }
            }
            
            document.getElementById('modalBody').innerHTML = modalContent;
            document.getElementById('dayModal').classList.add('show');
        }
        
        function closeModal() {
            document.getElementById('dayModal').classList.remove('show');
        }
        
        function changeMonth(direction) {
            currentMonth.setMonth(currentMonth.getMonth() + direction);
            renderCalendar();
        }
        
        function filterGrade(grade) {
            currentGradeFilter = grade;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderCalendar();
        }
        
        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('dayModal');
            if (event.target === modal) {
                closeModal();
            }
        }
        
        // Initialize
        renderCalendar();
    </script>
</body>
</html>